---
title: 单页面和多页面应用
date: 2020-06-11 07:40:09
tags: JavaScript
---

> 单页面和多页面应用

<!-- more -->


## 一. 单页面应用 SPA (Single-Page Application)

1. 定义
首次请求返回一个html页面，后续浏览器地址发生变化，页面内容通过组件切换也变化了，但是并没有发起新的请求。
这是属于的单页面应用，原理。

- 浏览器 URL 发生变化，但是不会发起请求。
- JS 会感知到 URL 的变化，动态的将当前页面的内容清除掉，然后将下一个页面的内容挂载到当前页面上。
- 这个时候的路由不是后端来做了，而是前端来做，判断页面到底是显示哪个组件，清除不需要的，显示需要的组件。
- 这种过程就是单页应用，每次跳转的时候不需要再请求html文件了，仅仅通过前端路由就能实现不同的 URL 展示不同页面内容。

使用SPA架构的应用程序致力于优秀的用户体验，因为这种架构不需要刷新，不需要等待，用户似乎在使用本地程序一般自然，它仅仅是一个网页，通过Javascript加载了所有的内容

2. 优点
- 页面体验快速，在应用程序生命周期内，所有的资源只需要加载一次，后续仅存在一些与服务器的api请求。
- 开发更容易，不需要服务端路由来处理，所以很容易开始，甚至可以通过本地打开html的方式使用我们的应用程序。
- 更容易制作手机APP程序，因为都是基于前后端分离的API交互模式，后端可以重用大量的代码。

3. 缺点
- 因为搜索引擎只认识html里的内容，不认识js渲染生成的内容，所以对 SEO 不友好，但是目前可以使用服务端渲染来处理这个问题。
- 因为首页会一次性加载所有资源，首次加载缓慢，不过可以目前可支持按需加载资源，来缓解这个难题。
- 相比较传统网页应用，可能更容易存在安全漏洞，比如脚本注入 XSS，跨站攻击 CSRF，以及 DDOS 攻击
- Javascript的内存弱点有可能使高配电脑也变得卡顿




## 二. 多页面应用 MPA (Multiple-Page Application)
1. 定义
浏览器每个地址变化都会发起请求，后台服务器都会给返回一个新的html文档，这种类型叫做多页应用。
这是传统的多页页面应用，设置超链接来实现页面切换和跳转的。

多页面程序是我们所知道多更传统的方式，每次请求都会返回一部分页面用于展示，一般有更多的层次，也更为复杂。因为Ajax技术的存在，我们可以局部刷新，一定程度上降低了网络负载。


2. 优点
- 首页直接返回完整的 HTML 页面，非常利于SEO 
- 因为是多个页面，可以减少深度层次菜单结构，对用户体验来说也是好事。

3. 缺点
- 前后端开发关联紧密，协作变得复杂，需要同时在前后端展开工作。

## 三. 选型

1. 基于内容优先原则（content first）来思考这个问题，内容是用户决定是否使用应用的原因，因此需要回答两个问题
- 用户最希望看到怎样的内容
- 你想怎样展示这些内容给用户

2. 选型建议
- 如果你有风格迥异的内容以及复杂的分类，那建议使用MPA。
- 如果的内容拥有一致的体验，那建议使用SPA。
