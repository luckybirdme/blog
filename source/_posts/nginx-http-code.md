---
title: nginx http 返回码原因
date: 2020-04-25 14:47:58
tags: NGINX
---

> 100 消息系列，比如 101 协议切换 
> 200 成功系列，比如 200 返回成功
> 300 重定向系列，比如 302 临时重定向
> 400 客户顿请求错误系列，比如 404 找不到资源
> 500 服务器端错误系列，比如 503 服务器过载了

<!-- more -->

## 一. 100

- 101 Switching Protocols，切换协议，服务器根据客户端的请求切换协议，例如切换到HTTP的新版本协议。

## 二. 200

- 200 OK，服务器处理成功，并返回了内容

## 三. 300
- 301 Moved Permanently，永久重定向，请求的资源已被永久的移动到新URI，返回信息会包括新的URI，浏览器会自动定向到新URI。

- 302 Found，临时性重定向，比如跳转到登录校验

- 304 Not Modified，所请求的资源未修改，服务器返回此状态码时，不会返回任何资源，客户端会通过之前的缓存获取资源。


## 四. 400
- 401 Unauthorized，要求用户的身份认证，可能是 NGINX 配置了校验 Authorization

- 403 Forbidden，服务器理解请求客户端的请求，但是拒绝执行此请求，可能是不允许访问

- 404 Not Found，服务器无法根据客户端的请求找到资源，可能是 url 填错，也可能是资源被删除了


## 五. 500
- 500 Internal Server Error，内部服务器错误，可能是 NGINX 配置问题，或是脚本执行过程遇到意外情况，而无法履行请求。
1. 脚本错误，如php语法错误。
2. 操作系统异常，比如句柄超过限制。

- 502 Bad Gateway，脚本尝试执行请求时，但是最终返回无效的响应给 NGINX。
1. NGINX 将请求转发给 php-fpm 执行，但是由于某些原因没有执行完毕导致 php-fpm 进程终止

- 503 Service Temporarily Unavailable ，目前无法提供服务了，通常只是一种暂时的状态。
1. 由于脚本处理进程 php-fpm 超载了
2. 可能脚本处理进程 php-fpm 被停止了

- 504 Gateway Time-out，脚本处理进程在执行过程中，超过了设定的时间，导致超时没有回应 NGINX。
1. 脚本执行时间太长，导致进程卡住了
2. FastCGI 缓存区太小，导致进程长时间挂起
