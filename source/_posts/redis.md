---
title: Redis 特点
date: 2020-04-06 16:07:11
tags: Redis
---

> 本文基于 Redis 4.0 版本

<!-- more -->

## 一. Redis 由来
1. Redis 由意大利人 antirez 发明，当时是为了解决网站 LLOOGG.com 访问 MySQL 数据库太慢。
2. 每次 MySQL 执行数据推入或弹出操作，都需要进行硬盘的读写操作，程序的性能严重受制于硬盘的 I/O。
3. antirez 写一个具有列表结构的内存数据库原型，极快的速度执行针对列表的推入和弹出操作，Redis 雏形由此诞生。
4. 经过后续开源发展，现在 Redis 已经成为一个功能丰富的内存型 NoSQL(Not Only SQL) 数据库，大量网站将 Redis 作为存储数据库使用。


## 二. Redis 特点
1. 内存型数据库，读写性能高，也支持内存数据的持久化磁盘中，重启的时候再次加载使用。
2. 数据类型不仅支持字符串String, 还支持列表lists, 集合sets, 有序集合sorted sets, 哈希Hashes等类型。
3. 单个命令是原子性操作，比如 INCR/DECR，在并发场景下，所有请求都会序列化处理排队处理。
4. 丰富特性，比如过期数据清理，publish/subscribe 订阅模式，Client/Server 消息队列，master-slave模式的数据备份



## 三. Redis 比 MySQL 性能高的原因
1. MySQL 数据存储在表中，最终落地到磁盘文件中，查找数据时要先对表进行全局扫描或根据索引查找，这涉及到磁盘文件的读取操作。而 Redis 数据本身就是存储在内存中，只要知道 key 就可以直接拿到对应的值。
2. Redis 采用 key-value 格式的数据，时间复杂度是O(1)，MySQL存储数据依靠数据引擎：innodb，Myisam，两种引擎的底层实现都是使用B+TREE存放或者查找，时间复杂度是O(logn）是对数阶的。
3. 模块内单线程执行，避免了不必要的上下文切换，也避免了资源竞争锁的问题。
4. 多路 I/O 复用模型，内部自己实现了 epoll 事件框架，非阻塞处理 I/O 请求。


## 四. Redis 和 Memcached 的区别
特性|Redis|Memcached
-|-|-
数据类型|支持多种数据类型|仅支持 key-value
数据持久化|可将数据落地到磁盘和日志文件 AOF，即使机器重启也能恢复|数据只保存在内存中，一旦重启将会丢失数据
线程|模块内采用单线程|支持多线程，充分利用多核CPU
性能|相比MySQL，性能更优，合适作为临时存储型数据库|内存、线程、IO角度上略优于 Redis，更合适作为缓存数据库

如果只是简单的 key/value 的缓存数据，采用 Memcached，如果更多数据类型，更多业务场景，以及对数据安全有更高要求，则使用 Redis。